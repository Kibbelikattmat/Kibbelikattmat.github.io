import{S as z,i as F,s as H,V as W,k as y,a as S,l as w,m as T,h as d,c as A,n as M,b as D,D as h,K,t as X,d as Q,f as B,L as R,M as U,q as I,r as P,p as C,J as j,g as Z,u as G,B as J,W as $,X as x}from"../../../chunks/index-11d11739.js";import{f as ee,a as le}from"../../../chunks/index-8fba94c6.js";function L(s,t,f){const u=s.slice();return u[9]=t[f],u}function N(s){let t,f=(s[9],O(s[4],s[9])+""),u,o,i,_;return{c(){t=y("p"),u=I(f),o=S(),i=y("img"),this.h()},l(l){t=w(l,"P",{});var e=T(t);u=P(e,f),e.forEach(d),o=A(l),i=w(l,"IMG",{style:!0,src:!0,alt:!0,class:!0}),this.h()},h(){C(i,"transform","translate(0, "+(s[1]<2?s[1]*O(s[4],s[9]):-s[1]*O(s[4],s[9])/(s[4].length-1))+"px)"),j(i.src,_=s[9])||M(i,"src",_),M(i,"alt",`parallax layer ${O(s[4],s[9])}`),M(i,"class","svelte-8foeaa")},m(l,e){D(l,t,e),h(t,u),D(l,o,e),D(l,i,e)},p(l,e){e&2&&C(i,"transform","translate(0, "+(l[1]<2?l[1]*O(l[4],l[9]):-l[1]*O(l[4],l[9])/(l[4].length-1))+"px)")},d(l){l&&d(t),l&&d(o),l&&d(i)}}}function te(s){let t,f,u,o,i,_,l;return{c(){t=y("p"),f=I("You have scrolled "),u=I(s[1]),o=I(" pixels"),i=S(),_=y("p"),l=I(s[3])},l(e){t=w(e,"P",{});var a=T(t);f=P(a,"You have scrolled "),u=P(a,s[1]),o=P(a," pixels"),a.forEach(d),i=A(e),_=w(e,"P",{});var p=T(_);l=P(p,s[3]),p.forEach(d)},m(e,a){D(e,t,a),h(t,f),h(t,u),h(t,o),D(e,i,a),D(e,_,a),h(_,l)},p(e,a){a&2&&G(u,e[1]),a&8&&G(l,e[3])},i:J,o:J,d(e){e&&d(t),e&&d(i),e&&d(_)}}}function se(s){let t,f,u,o,i,_,l,e,a,p,Y,E,b,n;return{c(){t=y("div"),f=y("p"),u=I("You have scrolled "),o=I(s[1]),i=I(" pixels"),_=S(),l=y("p"),e=I(s[3]),a=S(),p=y("img"),this.h()},l(v){t=w(v,"DIV",{class:!0});var c=T(t);f=w(c,"P",{});var V=T(f);u=P(V,"You have scrolled "),o=P(V,s[1]),i=P(V," pixels"),V.forEach(d),_=A(c),l=w(c,"P",{});var r=T(l);e=P(r,s[3]),r.forEach(d),a=A(c),p=w(c,"IMG",{class:!0,src:!0,alt:!0}),c.forEach(d),this.h()},h(){M(p,"class","cool svelte-8foeaa"),j(p.src,Y="/pixel_ship_yellow.png")||M(p,"src",Y),M(p,"alt","hmmmmmm"),M(t,"class","story svelte-8foeaa")},m(v,c){D(v,t,c),h(t,f),h(f,u),h(f,o),h(f,i),h(t,_),h(t,l),h(l,e),h(t,a),h(t,p),n=!0},p(v,c){(!n||c&2)&&G(o,v[1]),(!n||c&8)&&G(e,v[3])},i(v){n||(W(()=>{n&&(b&&b.end(1),E=$(t,ee,{y:200,duration:0}),E.start())}),n=!0)},o(v){E&&E.invalidate(),b=x(t,le,{}),n=!1},d(v){v&&d(t),v&&b&&b.end()}}}function ae(s){let t=!1,f=()=>{t=!1},u,o,i,_,l,e,a,p,Y,E;W(s[6]);let b=s[4],n=[];for(let r=0;r<b.length;r+=1)n[r]=N(L(s,b,r));const v=[se,te],c=[];function V(r,g){return r[2]&&r[0]>0?0:r[0]===0?1:-1}return~(e=V(s))&&(a=c[e]=v[e](s)),{c(){o=y("main"),i=y("div");for(let r=0;r<n.length;r+=1)n[r].c();_=S(),l=y("div"),a&&a.c(),this.h()},l(r){o=w(r,"MAIN",{class:!0});var g=T(o);i=w(g,"DIV",{class:!0});var k=T(i);for(let q=0;q<n.length;q+=1)n[q].l(k);k.forEach(d),_=A(g),l=w(g,"DIV",{class:!0});var m=T(l);a&&a.l(m),m.forEach(d),g.forEach(d),this.h()},h(){M(i,"class","container svelte-8foeaa"),M(l,"class","text svelte-8foeaa"),M(o,"class","svelte-8foeaa")},m(r,g){D(r,o,g),h(o,i);for(let k=0;k<n.length;k+=1)n[k]&&n[k].m(i,null);h(o,_),h(o,l),~e&&c[e].m(l,null),p=!0,Y||(E=[K(window,"scroll",s[5]),K(window,"scroll",()=>{t=!0,clearTimeout(u),u=setTimeout(f,100),s[6]()})],Y=!0)},p(r,[g]){if(g&2&&!t&&(t=!0,clearTimeout(u),scrollTo(window.pageXOffset,r[1]),u=setTimeout(f,100)),g&18){b=r[4];let m;for(m=0;m<b.length;m+=1){const q=L(r,b,m);n[m]?n[m].p(q,g):(n[m]=N(q),n[m].c(),n[m].m(i,null))}for(;m<n.length;m+=1)n[m].d(1);n.length=b.length}let k=e;e=V(r),e===k?~e&&c[e].p(r,g):(a&&(Z(),X(c[k],1,1,()=>{c[k]=null}),Q()),~e?(a=c[e],a?a.p(r,g):(a=c[e]=v[e](r),a.c()),B(a,1),a.m(l,null)):a=null)},i(r){p||(B(a),p=!0)},o(r){X(a),p=!1},d(r){r&&d(o),R(n,r),~e&&c[e].d(),Y=!1,U(E)}}}function O(s,t){return s.indexOf(t)+1}function re(s,t,f){let u;const o=["/pixel_ship_blue_small.png","/pixel_ship_green_small.png","/pixel_ship_red_small.png"],i=["Keep scrolling...","More scrolling...","Almost there..."];let _=0,l=0,e=!0;const a=Math.floor(4400/i.length);function p(){const E=l;f(0,l=Math.max(0,Math.floor(_/a))),f(2,e=l===E)}function Y(){f(1,_=window.pageYOffset)}return s.$$.update=()=>{s.$$.dirty&1&&f(3,u=i[l])},[l,_,e,u,o,p,Y]}class ne extends z{constructor(t){super(),F(this,t,re,ae,H,{})}}export{ne as default};
